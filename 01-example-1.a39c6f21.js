!function(){function e(e){return e&&e.__esModule?e.default:e}var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var n={};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){t&&r(e.prototype,t);n&&r(e,n);return e};var i=function(){"use strict";function r(){e(t)(this,r),this.searchQuery="",this.queryPage=1}return e(n)(r,[{key:"getNews",value:function(){var e=this,t="".concat("https://newsapi.org/v2/everything","?q=").concat(this.searchQuery,"&pageSize=3&page=").concat(this.queryPage);return fetch(t,{headers:{"X-Api-Key":"c16730bd019e47b49168e3f2670f55aa"}}).then((function(e){return e.json()})).then((function(t){return e.incrementPage(),t}))}},{key:"incrementPage",value:function(){this.queryPage+=1}},{key:"resetPage",value:function(){this.queryPage=1}}]),r}(),a=new(function(){"use strict";function r(n){var i=n.selector,a=n.isHidden,o=void 0!==a&&a;e(t)(this,r),this.button=this.getButton(i),o&&this.hide()}return e(n)(r,[{key:"getButton",value:function(e){return document.querySelector(e)}},{key:"enable",value:function(){this.button.disabled=!1,this.button.textContent="Load more"}},{key:"disable",value:function(){this.button.disabled=!0,this.button.textContent="Loading..."}},{key:"hide",value:function(){this.button.classList.add("hidden")}},{key:"show",value:function(){this.button.classList.remove("hidden")}}]),r}())({selector:"#loadMoreBtn",isHidden:!0}),o=new i,c=document.getElementById("form"),u=document.getElementById("articlesWrapper");function s(e){return a.show(),a.disable(),o.getNews().then((function(t){var n=t.articles;return 0===(null==n?void 0:n.length)?function(e){if(a.hide(),"submit"===e.type)throw l("<h3>Articles not found</h3>"),new Error("No data");if("click"===e.type)throw new Error("No more articles")}(e):function(e){return e.map((function(e){var t=e.author,n=e.title,r=e.description,i=e.url,a=e.urlToImage;return'\n      <div class="article-card">\n        <h2 class="article-title">'.concat(n,'</h2>\n        <h3 class="article-author">').concat(t||"Anonym","</h3>\n        <img src=").concat(a,' class="article-img">\n        <p class="article-description">').concat(r,"</p>\n        <a href=").concat(i,' class="article-link" target="_blank">Read more</a>\n      </div>\n    ')})).join("")}(n)})).then((function(e){l(e),a.enable()})).catch((function(e){return alert(e)}))}function l(e){u.innerHTML+=e}c.addEventListener("submit",(function(e){e.preventDefault();var t,n=c.elements.news.value.trim();""!==n?(t=n,o.searchQuery=t,o.resetPage(),u.innerHTML="",c.reset(),s(e)):alert("Please, write something")})),a.button.addEventListener("click",(function(e){s(e)}))}();
//# sourceMappingURL=01-example-1.a39c6f21.js.map
