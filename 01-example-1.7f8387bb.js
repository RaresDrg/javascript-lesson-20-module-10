var e=class{getNews(){const e=`https://newsapi.org/v2/everything?q=${this.searchQuery}&pageSize=3&page=${this.queryPage}`;return fetch(e,{headers:{"X-Api-Key":"c16730bd019e47b49168e3f2670f55aa"}}).then((e=>e.json())).then((e=>(this.incrementPage(),e)))}incrementPage(){this.queryPage+=1}resetPage(){this.queryPage=1}constructor(){this.searchQuery="",this.queryPage=1}};const t=new class{getButton(e){return document.querySelector(e)}enable(){this.button.disabled=!1,this.button.textContent="Load more"}disable(){this.button.disabled=!0,this.button.textContent="Loading..."}hide(){this.button.classList.add("hidden")}show(){this.button.classList.remove("hidden")}constructor({selector:e,isHidden:t=!1}){this.button=this.getButton(e),t&&this.hide()}}({selector:"#loadMoreBtn",isHidden:!0}),n=new e,r=document.getElementById("form"),s=document.getElementById("articlesWrapper");function i(e){return t.show(),t.disable(),n.getNews().then((({articles:n})=>0===(null==n?void 0:n.length)?function(e){if(t.hide(),"submit"===e.type)throw a("<h3>Articles not found</h3>"),new Error("No data");if("click"===e.type)throw new Error("No more articles")}(e):function(e){return e.map((e=>{const{author:t,title:n,description:r,url:s,urlToImage:i}=e;return`\n      <div class="article-card">\n        <h2 class="article-title">${n}</h2>\n        <h3 class="article-author">${t||"Anonym"}</h3>\n        <img src=${i} class="article-img">\n        <p class="article-description">${r}</p>\n        <a href=${s} class="article-link" target="_blank">Read more</a>\n      </div>\n    `})).join("")}(n))).then((e=>{a(e),t.enable()})).catch((e=>alert(e)))}function a(e){s.innerHTML+=e}r.addEventListener("submit",(e=>{e.preventDefault();const t=r.elements.news.value.trim();var a;""!==t?(a=t,n.searchQuery=a,n.resetPage(),s.innerHTML="",r.reset(),i(e)):alert("Please, write something")})),t.button.addEventListener("click",(e=>{i(e)}));
//# sourceMappingURL=01-example-1.7f8387bb.js.map
