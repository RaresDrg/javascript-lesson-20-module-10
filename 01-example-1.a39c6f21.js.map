{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/NewsApi.js","src/js/01-example-1.js","<<jsx-config-pragma.js>>","src/js/LoadMoreBtn.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","const ENDPOINT = 'https://newsapi.org/v2/everything';\nconst KEY_API = 'c16730bd019e47b49168e3f2670f55aa';\n\nclass NewsApi {\n  constructor() {\n    this.searchQuery = '';\n    this.queryPage = 1;\n  }\n\n  getNews() {\n    const url = `${ENDPOINT}?q=${this.searchQuery}&pageSize=3&page=${this.queryPage}`;\n    const options = {\n      headers: {\n        'X-Api-Key': KEY_API,\n      },\n    };\n\n    return fetch(url, options)\n      .then(response => response.json())\n      .then(data => {\n        this.incrementPage();\n        return data;\n      });\n  }\n\n  incrementPage() {\n    this.queryPage += 1;\n  }\n\n  resetPage() {\n    this.queryPage = 1;\n  }\n}\n\nexport default NewsApi;\n","import NewsApi from './NewsApi.js';\nimport LoadMoreBtn from './LoadMoreBtn.js';\n\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: '#loadMoreBtn',\n  isHidden: true,\n});\n\nconst newsApi = new NewsApi();\n\nconst form = document.getElementById('form');\nconst articlesList = document.getElementById('articlesWrapper');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const inputValue = form.elements.news.value.trim();\n\n  if (inputValue === '') {\n    alert('Please, write something');\n    return;\n  }\n\n  setApi(inputValue);\n  clear();\n  loadData(event);\n});\n\nfunction setApi(searchQuery) {\n  newsApi.searchQuery = searchQuery;\n  newsApi.resetPage();\n}\n\nfunction loadData(event) {\n  loadMoreBtn.show();\n  loadMoreBtn.disable();\n\n  return newsApi\n    .getNews()\n    .then(({ articles }) => {\n      if (articles?.length === 0) {\n        return onError(event);\n      }\n\n      return createMarkup(articles);\n    })\n\n    .then(markup => {\n      updateArticlesList(markup);\n      loadMoreBtn.enable();\n    })\n    .catch(error => alert(error));\n}\n\nfunction createMarkup(articles) {\n  const markup = articles\n    .map(article => {\n      const { author, title, description, url, urlToImage } = article;\n      return `\n      <div class=\"article-card\">\n        <h2 class=\"article-title\">${title}</h2>\n        <h3 class=\"article-author\">${author || 'Anonym'}</h3>\n        <img src=${urlToImage} class=\"article-img\">\n        <p class=\"article-description\">${description}</p>\n        <a href=${url} class=\"article-link\" target=\"_blank\">Read more</a>\n      </div>\n    `;\n    })\n    .join('');\n  return markup;\n}\n\nfunction updateArticlesList(markup) {\n  articlesList.innerHTML += markup;\n}\n\nfunction clear() {\n  articlesList.innerHTML = '';\n  form.reset();\n}\n\nfunction onError(event) {\n  loadMoreBtn.hide();\n\n  if (event.type === 'submit') {\n    updateArticlesList('<h3>Articles not found</h3>');\n    throw new Error('No data');\n  }\n\n  if (event.type === 'click') {\n    throw new Error('No more articles');\n  }\n}\n\nloadMoreBtn.button.addEventListener('click', event => {\n  loadData(event);\n});\n",null,"export default class LoadMoreBtn {\n  constructor({ selector, isHidden = false }) {\n    this.button = this.getButton(selector);\n\n    isHidden && this.hide();\n  }\n\n  getButton(selector) {\n    return document.querySelector(selector);\n  }\n\n  enable() {\n    this.button.disabled = false;\n    this.button.textContent = 'Load more';\n  }\n\n  disable() {\n    this.button.disabled = true;\n    this.button.textContent = 'Loading...';\n  }\n\n  hide() {\n    this.button.classList.add('hidden');\n  }\n\n  show() {\n    this.button.classList.remove('hidden');\n  }\n}\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$68227839101bb5c9$export$2e2bcd8739ae039","NewsApi","this","searchQuery","queryPage","url","concat","fetch","headers","then","response","json","data","_this","incrementPage","$b98a28db81df9627$var$loadMoreBtn","LoadMoreBtn","param","selector","_isHidden","isHidden","button","getButton","hide","document","querySelector","disabled","textContent","classList","add","remove","$b98a28db81df9627$var$newsApi","$b98a28db81df9627$var$form","getElementById","$b98a28db81df9627$var$articlesList","$b98a28db81df9627$var$loadData","event","show","disable","getNews","articles","type","$b98a28db81df9627$var$updateArticlesList","Error","$b98a28db81df9627$var$onError","map","article","author","title","description","urlToImage","join","$b98a28db81df9627$var$createMarkup","markup","enable","catch","error","alert","innerHTML","addEventListener","preventDefault","inputValue","elements","news","trim","resetPage","reset"],"version":3,"file":"01-example-1.a39c6f21.js.map"}